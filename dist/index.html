<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>participahal</title>
    <link rel="stylesheet" href="output.css">
    <link rel="icon" type="image/x-icon" href="./img/ahal-logo.png">
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css" rel="stylesheet" />
    <style>@import url('https://fonts.googleapis.com/css2?family=Onest:wght@100..900&display=swap');</style>
</head>

<body class="mx-48 min-h-screen flex relative flex-col bg-white">
    <!-- nav bar -->
    <nav class="border-gray-200 mt-4 sticky bg-white top-0 z-10 dark:bg-gray-900">
        <div class="max-w-screen-xl  flex flex-wrap items-center justify-between mx-auto p-4">
            <a href="#" class="flex items-center space-x-3 rtl:space-x-reverse">
            <img src="./img/ahal-logo.png" class="h-10" alt="logo ahal" />
            <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">participahal</span>
        </a>
        <div class="flex items-center md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
            <button type="button" class="flex text-sm bg-gray-800 rounded-full md:me-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600" id="user-menu-button" aria-expanded="false" data-dropdown-toggle="user-dropdown" data-dropdown-placement="bottom">
                <span class="sr-only">Open user menu</span>
                <img class="w-10 h-10 rounded-full" src="./img/user.png">
            </button>

            <!-- Dropdown menu -->
            <div class="z-50 hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600" id="user-dropdown">
                <div class="px-4 py-3">
                <span class="block text-sm text-gray-900 dark:text-white">Ricardo</span>
                <span class="block text-sm  text-gray-500 truncate dark:text-gray-400">ricardo@ahalfinancial.com</span>
                </div>
                <ul class="py-2" aria-labelledby="user-menu-button">
                <li>
                    <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">Cerrar Sesión</a>
                </li>
                </ul>
            </div>
            <button  type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-user" aria-expanded="false">
                <span class="sr-only">Open main menu</span>
                <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
                </svg>
            </button>
        </div>
    </nav>

    <!-- dashboard starts -->
    <section id="dashboard" class="bg-white  relative flex-grow dark:bg-gray-900">
        <div class="py-8 px-20 max-w-2xl lg:py-14">
            <h2 class="mb-4 text-2xl font-semibold dark:text-white">Crear estado de cuenta</h2>
            <form action="#">
                <div class="w-full gap-8 sm:gap-6">
                    <div class="flex flex-row gap-8">
                        <div class="w-full flex flex-col">
                            <label for="name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Nombre Colaborador</label>
                            <input type="text" name="nombrecola" id="nombrecola" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Nombre" required="">
                        </div>
                        <div class="w-full flex flex-col">
                            <label for="brand" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email</label>
                            <input type="text" name="emailcola" id="emailcola" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="nombre@ahalfinancial.com" required="">
                        </div>    
                    </div>    
                    <div class="mt-6 border-gray-300 border "></div>
                </div>
            </form>
        </div>                        
        
        <!-- participaciónes dashboard starts -->
        <div class="relative px-20 overflow-x-auto">
            <table class="text-sm w-full text-left  rtl:text-right  text-gray-500 dark:text-gray-400">
                <caption class="text-gray-900 font-bold mb-4 text-left text-sm">1. Percepciones Fijas</caption>
                <thead class="text-xs uppercase dark:bg-gray-700 dark:text-gray-400">
                    <tr>
                        <th scope="col" class="px-6 bg-gray-50 py-3">
                            Concepto
                        </th>
                        <th scope="col" class="px-6 bg-gray-50 py-3">
                            Monto
                        </th>
                        <th scope="col" class="px-6 text-white py-3"> Cargo Corpo.</th>
                        <th scope="col" class="px-6 text-white py-3"> % Participacion</th>
                    </tr>
                </thead>
                <tbody>
                    <form action="">
                        <tr class="bg-white border-b dark:bg-gray-800 border-none dark:border-gray-700">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                                Salario Fijo
                            </th>
                            <td class="px-6 py-4">
                                <input type="number" name="salariofijo" id="salariofijo" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block  p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="XXXX" required=""> 
                            </td>
                        </tr>
                    </form>
                </tbody>
            </table>

            <!-- agregar participaciones -->
            <table class="w-full sticky text-sm text-left mt-5 rtl:text-right text-gray-500 dark:text-gray-400">
                    <caption class="text-gray-900 font-bold mb-4 text-left text-sm">2. Participaciones</caption>
                    <button type="button" id="agregar_participacion" class="hover:bg-green-500 items-center absolute right-0 top-32 mr-20 bg-green-600 px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-primary-700 rounded-lg hover:bg-primary-800">
                        agregar participación
                    </button>
                
                <thead class="text-xs  uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                    <tr>
                        <th scope="col" class="px-6 py-3">
                            Concepto
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Utilidades del Proyecto
                        </th>
                        <th scope="col" class="px-6 py-3">
                            Cargo Corp.
                        </th>
                        <th scope="col" class="px-6 py-3">
                            % Participación
                        </th>
                        <th scope="col" class="px-6 w-32 py-3">
                            Sub total
                        </th>
                    </tr>
                </thead>
                <tbody id="dump_de_participaciones">
                    <form action="">
                        <!-- aqui se agregan los botones de participación -->
                        <div id="">
                            <template id="participacion_compartment">
                                <tr class="bg-white border-b dark:bg-gray-800 border-none dark:border-gray-700">
                                    <td scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                                        <input type="text" name="participacion1" id="nombreproyecto" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Pemer" required="">
                                    </td>
                                    <td class="px-6 py-4">
                                        <input type="number" name="montoparticipacion" id="name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block  p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="XXXX" required=""> 
                                    </td>
                                    <td class="px-6 py-4">
                                        
                                        <label class="inline-flex items-center cursor-pointer">
                                            <input type="checkbox" value=".75" name="togglecargo" class="sr-only peer" checked >
                                            <div class="relative w-11 h-6 bg-red-400 rounded-full peer dark:peer-focus:ring-green-800 dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"></div>
                                        </label>
                                    </td>
                                    <td class="px-6 py-4">
                                        <label>
                                            <input type="number" name="porcentaje_participacion" min="1" max="100" id="name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block  p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="XX" required=""> 
                                        </label>    
                                    </td>
                                    <td scope="row" id="subtotal" class="px-6 w-32 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                                        $ 0
                                    </td>
                                </tr>
                            </template>
                        </div>
                    </form>
                </tbody>
            </table>
        </div>
        <!-- compartimiento para los subtotales -->
        <div id="totales" class="hidden ml-auto mr-20 w-64">
            <div id="totalestemplate">
                <div class=" border-gray-300 border"></div>
                <table class="text-sm">
                    <tr>
                        <td scope="row" class="px-2 pt-4 align-bottom font-medium  text-gray-900 whitespace-nowrap dark:text-white">
                            Subtotales
                        </td>
                        <td>
                            <div id="sumatoriasubtotales" class="pl-16 pt-4 align-bottom ">$ 0</div>
                        </td>
                    </tr>
                    <tr>
                        <td scope="row" class="px-2 py-2 font-medium align-bottom text-gray-900 whitespace-nowrap dark:text-white">
                            Ret. Iva
                        </td>
                        <td class=" pl-16 py-2 align-bottom w-14">
                            <input type="number" name="montoiva" id="montoiva" class="bg-gray-50 border w-24 h-6 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block  p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="XXXX" required=""> 
                        </td>
                    </tr>
                    <tr>
                        <td scope="row" class="px-2 align-bottom font-medium text-gray-900 whitespace-nowrap dark:text-white">
                            Ret. Isr
                        </td>
                        <td class="pl-16 align-bottom w-14">
                            <input type="number" name="montoisr" id="montoisr" class="bg-gray-50 border w-24 h-6 border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block  p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="XXXX" required=""> 
                        </td>
                    </tr>
                </table>
                <table>
                <td scope="row" class="pl-2 py-3 text-sm font-bold  text-gray-900 whitespace-nowrap dark:text-white">
                    Total Final
                </td>
                <td>
                    <div id="total" class="pl-16 ml-1 text-sm font-bold align-bottom">$ 0</div>
                </td>
                </table>
                <button type="button" id="print" class="hover:bg-blue-700 items-center mr-20 bg-blue-900 px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-primary-700 rounded-lg hover:bg-primary-800">
                    Imprimir PDF
                </button>
            </div>
        </div>
        <!-- este es el hidden template donde se crea el print pdf -->
        <div id="aquivaeltemplate" class="">
            <template id="bodyestado" class=" bg-white w-[210mm] h-[297mm] relative my-10 mx-auto">
                <div class="mx-16 relative">
                    <div class="pt-14 flex gap-4">
                        <img src="./img/ahal-logo.png" class="h-14" alt="logo ahal">
                        <span class="self-center text-3xl font-semibold whitespace-nowrap dark:text-white">participahal</span>
                    </div>
                    <div class="flex mt-6">
                        <div class="ml-auto text-right">
                            Avenida Bonampak, Sm. 6 <br> Mz. 1, Lt. 1, Cancún <br> Quintana Roo, 77500 Piso 5
                        </div>
                    </div>
                    <!-- info de colaborador -->
                    <div class="mt-14 font-medium flex flex-col">
                        <div id="colaboradoredo">Colaborador: </div>
                        <div id="correoedo">Correo: </div>
                        <div id="fechaedo">Fecha: </div>
                        <span class="text-2xl mt-14 font-semibold whitespace-nowrap dark:text-white border-b-2">Estado de Cuenta</span>
                    </div>

                    <!-- salario fijo -->
                    <div class="mt-8 font-normal flex mb-2 ">
                        <div class="w-80">Percepción Fija: </div>
                        <div id="montoedo" class="">7500 MXN</div>
                    </div>

                    <!-- aqui van las participaciones -->
                    <div id="dumpedo"class="flex flex-col"> 
                    </div>

                    <!-- compartments -->
                    <div id="edocompartimientodetotales" class="flex flex-col ml-auto mt-52 min-w-16 max-w-52 font-semibold">
                        <!-- subtotal -->
                        <div id="subtotaledo" class="flex">
                            <div class="w-16">Subtotal:</div>
                            <div></div>
                        </div>
                        <!-- iva -->
                        <div id="ivaedo" class="flex">
                            <div class="w-16">Ret.IVA:</div>
                            <div></div>
                        </div>
                        <!-- isr -->
                        <div id="isredo" class="flex">
                            <div class="w-16">Ret.ISR:</div>
                            <div></div>
                        </div>
                        <!-- total -->
                        <div id="totaledo" class="font-black flex">
                            <div class="w-16">Total:</div>
                            <div></div>
                        </div>
                    </div>
                </div>
            </template>
        </div> 
    </section>

    <!-- footer starts -->
    <footer class="bg-white p-4 rounded-lg flex mt-6 mb-4 dark:bg-gray-800">
        <div class="w-full mx-auto max-w-screen-xl  md:flex md:items-center md:justify-between">
            <span class="text-sm sm:text-center dark:text-gray-400">participahal © 2024 <a href="" class="hover:underline"></a></span>
            <span class="text-sm  sm:text-center dark:text-gray-400"> creado y diseñado por Ramiro. <a href="" class="hover:underline"></a></span>
        </div>
    </footer>

    <!-- js -->
    <script type="module" src="./app/dashboard.js"></script>
    <script type="module" src="./app/generateedocta.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/numeral.js/2.0.6/numeral.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js" integrity="sha512-YcsIPGdhPK4P/uRW6/sruonlYj+Q7UHWeKfTAkBW+g83NKM+jMJFJ4iAPfSnVp7BKD4dKMHmVSvICUbE/V1sSw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
</body>
</html>